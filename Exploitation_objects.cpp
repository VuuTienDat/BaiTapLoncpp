#include "Exploitation_objects.h"

Exploitation_objects::Exploitation_objects()
{
    x_dx = 0;
    y_dy = 0;
    frame =0;
    width_frame = 0;
    height_frame = 0;


}

bool Exploitation_objects::LoadImg(const char* s, SDL_Renderer* screen)
{
    bool ret = objects :: LoadImg(s, screen);
    if(ret == true){
        width_frame = rect.w/8;
        height_frame = rect.h ;
    }
    else {SDL_LogMessage(SDL_LOG_CATEGORY_APPLICATION,SDL_LOG_PRIORITY_ERROR,"Loi khoi tao",SDL_GetError());}
    return ret;
}

void Exploitation_objects::set_x_dx()
{

}

void Exploitation_objects::set_y_dy()
{

}

int Exploitation_objects::get_x_dx()
{
    return x_dx;

}

int Exploitation_objects::get_y_dy()
{
    return y_dy;
}

void Exploitation_objects::set_clips()
{
    for(int i = 0; i < 8 ; i++)
    {
        frame_clip[i].x = i*width_frame;
        frame_clip[i].y = 0;
        frame_clip[i].w= width_frame;
        frame_clip[i].h = height_frame;

    }
}
void Exploitation_objects::show(SDL_Renderer *des)
{  SDL_Rect renderQuad;
    renderQuad.x = rect.x;
    renderQuad.y = rect.y;
    renderQuad.w = width_frame;
    renderQuad.h = height_frame;
   if(frame >= 8){frame = 0;}
   SDL_Rect *currentclips = &frame_clip[frame++] ;


   SDL_RenderCopy(des,object,currentclips,&renderQuad);


}

